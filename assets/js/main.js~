// cache DOM
var target = $('#main');
var menu = $('#sdmn');
var auth_form_revealer = $('.auth-form-revealer');
var auth_form_hider = $('.auth-form-hider');
var auth_form_block = $('#topbar-block');

$(function(){
	// Facebook
	(function(d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
			js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk')
	);

	// sticky menu
	target.waypoint({
		handler: function(event, direction){
			menu.toggleClass('sticky', direction = 'down');
		}
	});

	$("#topbar a.auth-form-revealer").click(function(e){
		e.preventDefault();
	});

	// authorization menu togglers
	auth_form_revealer.click(function(){
		auth_form_block.removeClass('hidden');
		auth_form_revealer.hide();
		auth_form_hider.show();
	});

	// authorization menu togglers
	auth_form_hider.click(function(){
		auth_form_block.addClass('hidden');
		auth_form_revealer.show();
		auth_form_hider.hide();
	});

	$('.checkboxlabel').click(function(){
		if($('.checkboxinput').prop('checked')){
			$('.checkboxinput').removeAttr('checked');
		}else{
			$('.checkboxinput').attr('checked', true);
		}
	});
});